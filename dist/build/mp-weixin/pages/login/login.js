"use strict";const e=require("../../common/vendor.js"),t=require("../../services/login.js"),s=require("../../stores/modules/member.js");require("../../utils/http.js"),require("../../stores/index.js");const o={__name:"login",setup(o){let i="";e.onLoad((async()=>{const t=await e.wx$1.login();i=t.code}));const n=async e=>{console.log(e);const t=e.datail.encryptedData,s=e.datail.iv,o=await postLoginWxMinAPI({code:i,encryptedData:t,iv:s});a(o.result)},r=async()=>{const e=await t.postLoginWxMinSimpleAPI("15916252262");a(e.result)},a=t=>{s.useMemberStore().setProfile(t),e.index.showToast({icon:"none",title:"登录成功"}),setTimeout((()=>{e.index.switchTab({url:"/pages/my/my"})}),500)};return(t,s)=>({a:e.o(n),b:e.o(r)})}};wx.createPage(o);
