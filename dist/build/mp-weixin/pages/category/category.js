"use strict";const e=require("../../common/vendor.js"),r=require("../../services/home.js"),a=require("../../services/category.js");if(require("../../utils/http.js"),require("../../stores/index.js"),require("../../stores/modules/member.js"),!Array){e.resolveComponent("XtxSwiper")()}Math||((()=>"../../components/XtxSwiper.js")+s)();const s=()=>"./components/PageSkeleton.js",o={__name:"category",setup(s){const o=e.ref([]),t=async()=>{const e=await r.getHomeBannerAPI(2);o.value=e.result},n=e.ref([]),i=async()=>{const e=await a.getCategoryTopAPI();n.value=e.result,console.log(n.value[2].children)},u=e.ref(0),c=e.ref(!1);return e.onLoad((async()=>{await Promise.all([t(),i()]),c.value=!0})),(r,a)=>{var s;return e.e({a:c.value},c.value?{b:e.f(n.value,((r,a,s)=>({a:e.t(r.name),b:r.id,c:a===u.value?1:"",d:e.o((e=>u.value=a),r.id)}))),c:e.p({data:o.value}),d:e.f(null==(s=n.value[u.value])?void 0:s.children,((r,a,s)=>({a:e.t(r.name),b:e.f(r.goods,((r,a,s)=>({a:r.picture,b:e.t(r.name),c:e.t(r.price),d:r.id,e:`/pages/goods/goods?id=${r.id}`}))),c:r.id})))}:{})}}};wx.createPage(o);
