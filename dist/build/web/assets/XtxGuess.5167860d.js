import{l as a,g as e,a4 as s,o as l,h as t,a as u,w as o,b as r,F as c,r as n,c as d,t as i,y as p,d as g,e as _,i as m,j as f}from"./index-af18ee11.js";import{c as v}from"./home.b7557d0f.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";const j=()=>{const e=a();return{guessRef:e,onScrolltolower:()=>{var a;null==(a=e.value)||a.getMore()}}},h=x({__name:"XtxGuess",setup(x,{expose:j}){e();const h=a([]),w={page:1,pageSize:10},y=a(!1),F=async()=>{if(!0===y.value)return p({icon:"none",title:"没有更多数据了~"});const a=await v(w);h.value=h.value.concat(...a.result.items),w.page<a.result.pages?w.page++:y.value=!0};return s((()=>F())),j({resetData:()=>{w.page=1,h.value=[],y.value=!1},getMore:F}),(a,e)=>{const s=g,p=_,v=m,x=f;return l(),t(c,null,[u(p,{class:"caption"},{default:o((()=>[u(s,{class:"text"},{default:o((()=>[r("猜你喜欢")])),_:1})])),_:1}),u(p,{class:"guess"},{default:o((()=>[(l(!0),t(c,null,n(h.value,(a=>(l(),d(x,{class:"guess-item",key:a.id,url:`/pages/goods/goods?id=${a.id}`},{default:o((()=>[u(v,{class:"image",mode:"aspectFill",src:a.picture},null,8,["src"]),u(p,{class:"name"},{default:o((()=>[r(i(a.name),1)])),_:2},1024),u(p,{class:"price"},{default:o((()=>[u(s,{class:"small"},{default:o((()=>[r("¥")])),_:1}),u(s,null,{default:o((()=>[r(i(a.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128))])),_:1}),u(p,{class:"loading-text"},{default:o((()=>[r(i(y.value?"没有更多数据~":"正在加载..."),1)])),_:1})],64)}}},[["__scopeId","data-v-d53fdaad"]]);export{h as _,j as u};
